!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.mystery=t()}}(function(){return function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var f="function"==typeof require&&require;if(!u&&f)return f(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[o]={exports:{}};e[o][0].call(a.exports,function(t){var n=e[o][1][t];return i(n?n:t)},a,a.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function s(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!s(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,s,f,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,f=0;r>f;f++)c[f].apply(this,s);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,s,u;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(u=s;u-- >0;)if(n[u]===e||n[u].listener&&n[u].listener===e){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=function(t){return"function"==typeof t},s=function(t,e,n,r){return i(t)&&t(e,n,r)};e.exports=function(t){var e=new r,n=-1,i=function(t){++n,e.emit("value",{index:n,value:t})};return e.on("item",function(n){var r=n.status;r?(s(t[r],i),e.emit("value",{status:r})):s(t,n.value,n.index,i)}),e}},{events:1}],3:[function(t,e,n){"use strict";e.exports=function(t){var e=function(t,e,n){n(t)};return e.end=function(e){t.forEach(e)},e}},{}],4:[function(t,e,n){"use strict";e.exports=function(t){return function(e,n,r){t(e,n)&&r(e)}}},{}],5:[function(t,e,n){"use strict";e.exports=function(t,e){return function(n,r,i){r===t&&i(e),i(n)}}},{}],6:[function(t,e,n){"use strict";e.exports=function(t){var e=0;return function(n,r,i){(r+e)%2&&(++e,i(t)),i(n)}}},{}],7:[function(t,e,n){"use strict";e.exports=function(t){return function(e,n,r){r(t(e,n))}}},{}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=function(t,e,n){n(t)};return e.start=function(e){t.forEach(e)},e}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){var e=[],n=function(t){return e.push(t)};return n.end=function(n){e.sort(t).forEach(n)},n}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){var e=[],n=function(t){e.push(t)};return n.end=function(n){e.slice(e.length-t).forEach(n)},n}},{}],11:[function(t,e,n){"use strict";var r=t("./filter");e.exports=function(t){return r(function(e,n){return t>n})}},{"./filter":4}],12:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){s(t);var e=o(arguments);return e.length>=t.length?t.apply(void 0,r(e)):function(){return i.apply(void 0,[t].concat(r(e),Array.prototype.slice.call(arguments)))}}function s(t){if("function"!=typeof t)throw Error("fn should be function!")}e.exports=i;var o=function(t){return[].slice.call(t,1)}},{}],13:[function(t,e,n){!function(t){"use strict";function n(t,e){r(t,e);var n=0,i=e.length,s=Array(i);for(n=0;i>n;n++)s[n]=t(e[n],n,i,e);return s}function r(t,e){if("function"!=typeof t)throw Error("fn should be function!");if(!Array.isArray(e))throw Error("list should be an array!")}"undefined"!=typeof e&&e.exports?e.exports=n:t.mapa=n}(this)},{}],14:[function(t,e,n){!function(t){"use strict";function n(){var t=[].slice.call(arguments);return i("function",t),function(){return t.reduceRight(r,arguments).pop()}}function r(t,e){return[e.apply(null,t)]}function i(t,e){var n=s(f,t),r=s(u,t);e.length?e.map(o).filter(r).forEach(n):n(t)}function s(t,e){return t.bind(null,e)}function o(t){return typeof t}function u(t,e){return t!==e}function f(t){throw Error("fn should be "+t+"!")}"undefined"!=typeof e&&e.exports?e.exports=n:t.squad=n}(this)},{}],mystery:[function(t,e,n){"use strict";function r(t){return t.map(function(t){return h(t)})}function i(t){return t.reduce(function(t,e){return t.on("value",function(t){e.emit("item",t)}),e}),t}function s(t){return(new c).on("item",function(e){"end"===e.status&&t.forEach(function(t){return t.removeAllListeners("value")})})}function o(t){var e=new c,n=[];return e.on("item",function(r){"end"===r.status?t(n):r.status||n.push(r.value),e.emit("value",r)}),e}function u(t){if(!Array.isArray(t))throw Error("funcs should be an array!");return t.map(function(t){return"undefined"==typeof t?"undefined":f(t)}).filter(function(t){return"function"!==t}).forEach(function(){throw Error("funcs should contain functions only!")}),t}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},c=t("events").EventEmitter,a=t("currify"),l=t("mapa"),p=t("squad"),h=t("./chain"),v=a(function(t,e,n){var r=t[0],u=o(n),f=s(t);i(t.concat(u,f)),r.emit("item",{status:"start"}),l(function(t,e){r.emit("item",{value:t,index:e})},e),r.emit("item",{status:"end"})});e.exports=p(v,r,u),e.exports.map=t("./transform/map"),e.exports.filter=t("./transform/filter"),e.exports.append=t("./transform/append"),e.exports.prepend=t("./transform/prepend"),e.exports.sort=t("./transform/sort"),e.exports.take=t("./transform/take"),e.exports.takeLast=t("./transform/take-last"),e.exports.insert=t("./transform/insert"),e.exports.intersperse=t("./transform/intersperse")},{"./chain":2,"./transform/append":3,"./transform/filter":4,"./transform/insert":5,"./transform/intersperse":6,"./transform/map":7,"./transform/prepend":8,"./transform/sort":9,"./transform/take":11,"./transform/take-last":10,currify:12,events:1,mapa:13,squad:14}]},{},["mystery"])("mystery")});
