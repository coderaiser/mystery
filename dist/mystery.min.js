!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).mystery=t()}}(function(){return function(){return function t(e,n,r){function o(s,u){if(!n[s]){if(!e[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return o(e[s][1][t]||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}}()({1:[function(t,e,n){"use strict";var r=t("events").EventEmitter,o=function(t,e,n,r){return function(t){return"function"==typeof t}(t)&&t(e,n,r)};e.exports=function(t){var e=new r,n=-1,i=function(t){++n,e.emit("value",{index:n,value:t})};return e.on("item",function(n){var r=n.status;r?(o(t[r],i),e.emit("value",{status:r})):o(t,n.value,n.index,i)}),e}},{events:18}],2:[function(t,e,n){"use strict";e.exports=function(t){return t.reduce(function(t,e){return t.on("value",function(t){e.emit("item",t)}),e}),t}},{}],3:[function(t,e,n){"use strict";e.exports=function(t){var e=function(t,e,n){n(t)};return e.end=function(e){t.forEach(e)},e}},{}],4:[function(t,e,n){"use strict";var r=t("mapa");e.exports=function(){return function(t,e,n){Array.isArray(t)?r(n,t):n(t)}}},{mapa:19}],5:[function(t,e,n){"use strict";e.exports=function(t){return function(e,n,r){t(e,n)&&r(e)}}},{}],6:[function(t,e,n){"use strict";e.exports=function(t,e){return function(n,r,o){r===t&&o(e),o(n)}}},{}],7:[function(t,e,n){"use strict";e.exports=function(t){var e=0;return function(n,r,o){(r+e)%2&&(++e,o(t)),o(n)}}},{}],8:[function(t,e,n){"use strict";e.exports=function(t){return function(e,n,r){r(t(e,n))}}},{}],9:[function(t,e,n){"use strict";var r=function(t){return t};e.exports=function(t,e){var n,o;e=e||r;var i=function(r){n||(o=t(r),n=e(o))};return i.end=function(t){t(o)},i}},{}],10:[function(t,e,n){"use strict";e.exports=function(){var t=[],e=function(e){t.push(e)};return e.end=function(e){e(t)},e}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){return function(e,n,r){t(e),r(e)}}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){var e=function(t,e,n){n(t)};return e.start=function(e){t.forEach(e)},e}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){var e=[],n=function(t){return e.push(t)};return n.end=function(n){e.sort(t).forEach(n)},n}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){var e=[],n=function(t){e.push(t)};return n.end=function(n){e.slice(e.length-t).forEach(n)},n}},{}],15:[function(t,e,n){"use strict";var r=t("./filter");e.exports=function(t){return r(function(e,n){return n<t})}},{"./filter":5}],16:[function(t,e,n){"use strict";e.exports=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(function(t){if("function"!=typeof t)throw Error("fn should be function!")}(e),r.length>=e.length)return e.apply(void 0,r);var i=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.apply(void 0,[e].concat(r.concat(o)))},s=e.length-r.length-1;return function(t){return[function(e){return t.apply(void 0,arguments)},function(e,n){return t.apply(void 0,arguments)},function(e,n,r){return t.apply(void 0,arguments)},function(e,n,r,o){return t.apply(void 0,arguments)},function(e,n,r,o,i){return t.apply(void 0,arguments)}]}(i)[s]||i}},{}],17:[function(t,e,n){e.exports=t("./currify")},{"./currify":16}],18:[function(t,e,n){var r=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n},i=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var u,f=10;try{var a={};Object.defineProperty&&Object.defineProperty(a,"x",{value:0}),u=0===a.x}catch(t){u=!1}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function p(t,e,n,o){var i,s,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=t._events)?(s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),u=s[e]):(s=t._events=r(null),t._eventsCount=0),u){if("function"==typeof u?u=s[e]=o?[n,u]:[u,n]:o?u.unshift(n):u.push(n),!u.warned&&(i=c(t))&&i>0&&u.length>i){u.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+u.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=u.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",f.name,f.message)}}else u=s[e]=n,++t._eventsCount;return t}function l(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=i.call(l,r);return o.listener=n,r.wrapFn=o,o}function v(t,e,n){var r=t._events;if(!r)return[];var o=r[e];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):m(o,o.length):[]}function y(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}u?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');f=t}}):s.defaultMaxListeners=f,s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){var e,n,r,o,i,s,u="error"===t;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(u){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var f=new Error('Unhandled "error" event. ('+e+")");throw f.context=e,f}if(!(n=s[t]))return!1;var a="function"==typeof n;switch(r=arguments.length){case 1:!function(t,e,n){if(e)t.call(n);else for(var r=t.length,o=m(t,r),i=0;i<r;++i)o[i].call(n)}(n,a,this);break;case 2:!function(t,e,n,r){if(e)t.call(n,r);else for(var o=t.length,i=m(t,o),s=0;s<o;++s)i[s].call(n,r)}(n,a,this,arguments[1]);break;case 3:!function(t,e,n,r,o){if(e)t.call(n,r,o);else for(var i=t.length,s=m(t,i),u=0;u<i;++u)s[u].call(n,r,o)}(n,a,this,arguments[1],arguments[2]);break;case 4:!function(t,e,n,r,o,i){if(e)t.call(n,r,o,i);else for(var s=t.length,u=m(t,s),f=0;f<s;++f)u[f].call(n,r,o,i)}(n,a,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];!function(t,e,n,r){if(e)t.apply(n,r);else for(var o=t.length,i=m(t,o),s=0;s<o;++s)i[s].apply(n,r)}(n,a,this,o)}return!0},s.prototype.addListener=function(t,e){return p(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return p(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,o,i,s,u;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(n=o[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=r(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){u=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}(n,i),1===n.length&&(o[t]=n[0]),o.removeListener&&this.emit("removeListener",t,u||e)}return this},s.prototype.removeAllListeners=function(t){var e,n,i;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=r(null):delete n[t]),this;if(0===arguments.length){var s,u=o(n);for(i=0;i<u.length;++i)"removeListener"!==(s=u[i])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return v(this,t,!0)},s.prototype.rawListeners=function(t){return v(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],19:[function(t,e,n){!function(t){"use strict";function n(t,e){!function(t,e){if("function"!=typeof t)throw Error("fn should be function!");if(!Array.isArray(e))throw Error("list should be an array!")}(t,e);for(var n=e.length,r=0,o=n+1,i=Array(n);--o;)i[r=n-o]=t(e[r],r,e);return i}void 0!==e&&e.exports?e.exports=n:t.mapa=n}(this)},{}],20:[function(t,e,n){e.exports=t("./squad")},{"./squad":21}],21:[function(t,e,n){"use strict";var r=[function(){return function(){}},function(t){return function(){return t.apply(void 0,arguments)}},function(t,e){return function(){return t(e.apply(void 0,arguments))}},function(t,e,n){return function(){return t(e(n.apply(void 0,arguments)))}},function(t,e,n,r){return function(){return t(e(n(r.apply(void 0,arguments))))}},function(t,e,n,r,o){return function(){return t(e(n(r(o.apply(void 0,arguments)))))}},function(t,e,n,r,o,i){return function(){return t(e(n(r(o(i.apply(void 0,arguments))))))}},function(t,e,n,r,o,i,s){return function(){return t(e(n(r(o(i(s.apply(void 0,arguments)))))))}}];e.exports=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length<r.length?r[e.length].apply(r,e):function(t){return function(){for(var e=t.length-1,n=t[e].apply(t,arguments);--e;)n=t[e](n);return n}}(e)}},{}],mystery:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=t("events").EventEmitter,s=t("currify/legacy"),u=t("squad/legacy"),f=t("./chain"),a=t("./join"),c=t("./transform/decouple"),p=t("./transform/pass"),l=t("./transform/merge"),h=s(function(t,e,n){var r=function(t){return(new i).on("item",function(e){"end"===e.status&&t.forEach(function(t){return t.removeAllListeners("value")})})}(t),s=f(c()),u=f(p(n)),h=f(l()),v=s;a(function(t){var e;return(e=[]).concat.apply(e,o(t))}([s,t,h,u,r])),v.emit("item",{status:"start"}),v.emit("item",{value:e,index:0}),v.emit("item",{status:"end"})});e.exports=u(h,function(t){return t.map(function(t){return f(t)})},function(t){if(!Array.isArray(t))throw Error("funcs should be an array!");return t.map(function(t){return r(t)}).filter(function(t){return"function"!==t}).forEach(function(){throw Error("funcs should contain functions only!")}),t}),e.exports.map=t("./transform/map"),e.exports.filter=t("./transform/filter"),e.exports.append=t("./transform/append"),e.exports.prepend=t("./transform/prepend"),e.exports.sort=t("./transform/sort"),e.exports.take=t("./transform/take"),e.exports.takeLast=t("./transform/take-last"),e.exports.insert=t("./transform/insert"),e.exports.intersperse=t("./transform/intersperse"),e.exports.mapsome=t("./transform/mapsome"),e.exports.decouple=c,e.exports.pass=p,e.exports.join=a},{"./chain":1,"./join":2,"./transform/append":3,"./transform/decouple":4,"./transform/filter":5,"./transform/insert":6,"./transform/intersperse":7,"./transform/map":8,"./transform/mapsome":9,"./transform/merge":10,"./transform/pass":11,"./transform/prepend":12,"./transform/sort":13,"./transform/take":15,"./transform/take-last":14,"currify/legacy":17,events:18,"squad/legacy":20}]},{},["mystery"])("mystery")});
